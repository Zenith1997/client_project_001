Index: client/src/components/Product.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from \"../store/cartSlice\";\r\nimport toast from \"react-hot-toast\";\r\nimport { FaMinus, FaPlus } from \"react-icons/fa\";\r\nimport { priceCalculator } from \"../utility\";\r\n\r\nconst Product = ({ product, setSelectedProduct }) => {\r\n  const dispatch = useDispatch();\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const handleAddToCart = () => {\r\n    dispatch(addToCart({ product, quantity: quantity }));\r\n    // toast.success(`${product.Name} added to cart`);\r\n  };\r\n\r\n  function handleDecrementQuantity() {\r\n    if (quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n    }\r\n  }\r\n\r\n  function handleIncrementQuantity() {\r\n    if (quantity < product.MaxLimit || !product.MaxLimit) {\r\n      setQuantity(quantity + 1);\r\n    } else {\r\n      toast.error(`Maximum purchase quantity reached`);\r\n    }\r\n  }\r\n\r\n  return (\r\n    //className=\"bg-white bg-opacity-10 min-w-[300px] shadow-gray-800 shadow-lg rounded-lg text-white border border-gray-600 p-2 backdrop-filter backdrop-blur-lg md:min-w-[600px] md:p-4 max-w-3xl\">\r\n\r\n    <div className=\"bg-white py-2 px-2 md:py-4 md:px-4 shadow-gray-800  flex flex-col justify-center shadow-lg backdrop-blur-lg rounded-lg  items-center border rounded-lg border-gray-600 bg-opacity-10 \">\r\n      <div\r\n        className=\"flex justify-center items-center w-32 min-h-[128px] md:w-32 md:h-32\"\r\n        onClick={() => setSelectedProduct(product)}\r\n      >\r\n        <img\r\n          src={`${process.env.REACT_APP_BASE_URL}/assets/${product?.Image}`}\r\n          alt=\"product\"\r\n          className=\"w-[100%] h-[100%] object-contain\"\r\n        />\r\n      </div>\r\n      <div className=\"pt-2 pb-1\" onClick={() => setSelectedProduct(product)}>\r\n        <h1 className=\"text-white text-[12px] md:text-[16px]  font-bold text-center\">\r\n          {product.Name}\r\n        </h1>\r\n        <div className=\"flex flex-col justify-between items-center\">\r\n          <div className=\"w-full flex justify-center items-center gap-2\">\r\n            {/*<span className=\"text-gray-400 text-[11px] md:text-sm\">Price: </span>*/}\r\n            <b className=\"text-white text-[12px] md:text-[16px]\">\r\n              Rs.{\" \"}\r\n              {(\r\n                priceCalculator(\r\n                  product?.RetailPrice,\r\n                  product?.WholesalePrice,\r\n                  quantity,\r\n                  product.WholesaleQty\r\n                ) / quantity\r\n              ).toFixed(2)}\r\n            </b>\r\n          </div>\r\n          <p className=\"hidden sm:flex text-gray-400 text-[12px]\">\r\n            {product?.Description?.slice(0, 45)}...\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center gap-6  text-white\">\r\n        <span\r\n          className=\"p-2 text-[10px] bg-black rounded-full cursor-pointer\"\r\n          onClick={handleDecrementQuantity}\r\n        >\r\n          <FaMinus />\r\n        </span>\r\n        <span className=\"text-lg\">\r\n          {quantity} {product.Unit}\r\n        </span>\r\n        <span\r\n          className=\"p-2 text-[10px] bg-black rounded-full cursor-pointer\"\r\n          onClick={handleIncrementQuantity}\r\n        >\r\n          <FaPlus />\r\n        </span>\r\n      </div>\r\n      <div className=\"flex justify-center items-center\">\r\n        <button className=\"button-73 text-xs mt-4 \" onClick={handleAddToCart}>\r\n          <p className=\"text-[15px] \">Add to Cart</p>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/client/src/components/Product.jsx b/client/src/components/Product.jsx
--- a/client/src/components/Product.jsx	(revision f6858dee7f1d38f0f54b24cbebf204e708ed4716)
+++ b/client/src/components/Product.jsx	(date 1687987664930)
@@ -1,4 +1,4 @@
-import React, { useState } from "react";
+import React, {useEffect, useState} from "react";
 import { useDispatch } from "react-redux";
 import { addToCart } from "../store/cartSlice";
 import toast from "react-hot-toast";
@@ -8,7 +8,7 @@
 const Product = ({ product, setSelectedProduct }) => {
   const dispatch = useDispatch();
   const [quantity, setQuantity] = useState(1);
-
+  const [myArray, setMyArray] = useState([]);
   const handleAddToCart = () => {
     dispatch(addToCart({ product, quantity: quantity }));
     // toast.success(`${product.Name} added to cart`);
@@ -20,7 +20,29 @@
     }
   }
 
-  function handleIncrementQuantity() {
+  console.log(product.Image)
+
+    const { Image } = product;
+    let imageNames = [];
+
+    if (typeof Image === 'string') {
+        // Remove square brackets and double quotes from the string
+        const cleanedString = Image.replace(/[\[\]"]/g, '');
+
+        // Split the cleaned string into an array of image names
+        imageNames = cleanedString.split(',');
+
+        // Trim whitespace from each image name
+        imageNames = imageNames.map((imageName) => imageName.trim());
+    }
+
+    console.log(imageNames[0]);
+
+
+
+
+
+ function handleIncrementQuantity() {
     if (quantity < product.MaxLimit || !product.MaxLimit) {
       setQuantity(quantity + 1);
     } else {
@@ -36,8 +58,9 @@
         className="flex justify-center items-center w-32 min-h-[128px] md:w-32 md:h-32"
         onClick={() => setSelectedProduct(product)}
       >
+
         <img
-          src={`${process.env.REACT_APP_BASE_URL}/assets/${product?.Image}`}
+          src={`${process.env.REACT_APP_BASE_URL}/assets/${imageNames[0]}`}
           alt="product"
           className="w-[100%] h-[100%] object-contain"
         />
@@ -88,6 +111,7 @@
           <p className="text-[15px] ">Add to Cart</p>
         </button>
       </div>
+
     </div>
   );
 };
Index: server/database/db.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>const mysql = require(\"mysql\");\r\n\r\n// const db = mysql.createConnection({\r\n//   host: process.env.DB_HOST || \"localhost\",\r\n//   user: process.env.DB_USER || \"randcopf_zenith\",\r\n//   password: process.env.DB_PASSWORD || \"Zenith123\",\r\n//   database: process.env.DB_NAME || \"randcopf_janajaya\",\r\n//   port: process.env.DB_PORT || 3306,\r\n// });\r\nconst db = mysql.createConnection({\r\n  host: process.env.DB_HOST || \"localhost\",\r\n  user: process.env.DB_USER || \"root\",\r\n  password: process.env.DB_PASSWORD || \"Zenith1997\",\r\n  database: process.env.DB_NAME || \"janajaya\",\r\n  port: process.env.DB_PORT || 3306,\r\n});\r\n\r\ndb.connect((err) => {\r\n  if (err) {\r\n    throw err;\r\n  }\r\n  console.log(\"Database Connected!\");\r\n});\r\n\r\nmodule.exports = db;\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/server/database/db.js b/server/database/db.js
--- a/server/database/db.js	(revision f6858dee7f1d38f0f54b24cbebf204e708ed4716)
+++ b/server/database/db.js	(date 1687983580231)
@@ -11,7 +11,7 @@
   host: process.env.DB_HOST || "localhost",
   user: process.env.DB_USER || "root",
   password: process.env.DB_PASSWORD || "Zenith1997",
-  database: process.env.DB_NAME || "janajaya",
+  database: process.env.DB_NAME || "janajaya_original",
   port: process.env.DB_PORT || 3306,
 });
 
Index: client/src/components/QuickView.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, { useEffect, useRef, useState } from \"react\";\r\nimport { FaMinus, FaPlus, FaTimes } from \"react-icons/fa\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from \"../store/cartSlice\";\r\nimport { priceCalculator } from \"../utility\";\r\nimport toast from \"react-hot-toast\";\r\nimport CorouselComponent from \"./CarouselComponent\";\r\n\r\nconst QuickView = ({ onClose, selectedProduct }) => {\r\n  const [quantity, setQuantity] = useState(1);\r\n  const product = selectedProduct;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflow = \"hidden\";\r\n\r\n    return () => {\r\n      document.body.style.overflow = \"unset\";\r\n    };\r\n  }, []);\r\n\r\n  function handleDecrementQuantity() {\r\n    if (quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n    }\r\n  }\r\n\r\n  function handleIncrementQuantity() {\r\n    if (quantity < product.MaxLimit || !product.MaxLimit) {\r\n      setQuantity(quantity + 1);\r\n    } else {\r\n      toast.error(`Maximum purchase quantity reached`);\r\n    }\r\n  }\r\n\r\n  function handleAddToCart() {\r\n    dispatch(addToCart({ product, quantity }));\r\n    onClose();\r\n  }\r\n\r\n    let menuRef = useRef();\r\n\r\n    useEffect(() => {\r\n        let handler = (e) => {\r\n            if (!menuRef.current.contains(e.target)) {\r\n                onClose();\r\n                console.log(menuRef.current);\r\n            }\r\n        };\r\n\r\n        document.addEventListener(\"mousedown\", handler);\r\n\r\n\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handler);\r\n        }\r\n\r\n    });\r\n    const slides = [\r\n        {\r\n            title: 'Slide 1',\r\n            image: 'https://picsum.photos/200/300',\r\n        },\r\n        {\r\n            title: 'Slide 2',\r\n            image: 'https://picsum.photos/200/300',\r\n        },\r\n        {\r\n            title: 'Slide 3',\r\n            image: 'https://picsum.photos/200/300',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 px-4 z-50\">\r\n            <div\r\n                ref={menuRef}\r\n                className=\"bg-gray-900 shadow-lg min-w-[300px] shadow-gray-800 rounded-lg text-white border border-gray-400 p-2 md:min-w-[600px] md:p-4 max-w-3xl\">\r\n                <div className=\"w-full\">\r\n                    <FaTimes className=\"float-right text-2xl cursor-pointer\" onClick={onClose}/>\r\n                </div>\r\n                <div className=\"w-full flex flex-col md:flex-row justify-between items-center\">\r\n                    {/*<img*/}\r\n                    {/*    src={`${process.env.REACT_APP_BASE_URL}/assets/${product?.Image}`}*/}\r\n                    {/*    alt=\"product\" className=\"w-44 h-44 mx-auto \"/>*/}\r\n                    <CorouselComponent slides={slides}/>\r\n                    <div\r\n                           \r\n                        className=\"flex flex-col justify-center w-full md:w-1/2 md:justify-start items-center md:items-start\">\r\n                        <h2 className=\"text-xl font-bold mb-4\">{product?.Name}</h2>\r\n                        <p className=\"text-gray-400\">{product?.Description}</p>\r\n                        <div className=\"flex flex-col items-center gap-1 md:flex-row md:gap-4 text-white mt-2\">\r\n                            <b className=\"text-gray-300\">Price: Rs. {\r\n                                (priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity, product?.WholesaleQty) / quantity).toFixed(2)\r\n                            }</b>\r\n                            {/*<b className=\"text-gray-300\">Unit Price: Rs. {product?.WholesalePrice}</b>*/}\r\n                        </div>\r\n                        <div className=\"flex items-center  mt-2\">\r\n                            <h2 className=\"font-semibold text-[15px]\">Quantity:</h2>\r\n\r\n                            <div className=\"flex items-center gap-3 ml-2\">\r\n                                <span\r\n                                    className=\"p-2 text-[10px] bg-gray-800 rounded-full cursor-pointer\"\r\n                                    onClick={handleDecrementQuantity}\r\n                                >\r\n                                    <FaMinus/>\r\n                                </span>\r\n                                <span className=\"text-lg\">\r\n                                    {quantity} {product.Unit}\r\n                                </span>\r\n                                <span\r\n                                    className=\"p-2 text-[10px] bg-gray-800 rounded-full cursor-pointer\"\r\n                                    onClick={handleIncrementQuantity}\r\n                                >\r\n                                    <FaPlus/>\r\n                                </span>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/*<div className=\"flex items-center gap-2 mt-1\">*/}\r\n                        {/*    <h2 className=\"font-semibold text-[14px]\">Per {product.Unit}:</h2>*/}\r\n                        {/*    <h2 className=\"text-[16] text-gray-400\">Rs. {*/}\r\n                        {/*        priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity) / quantity*/}\r\n                        {/*    }</h2>*/}\r\n                        {/*</div>*/}\r\n\r\n                        {quantity >= 1 && (\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <h2 className=\"font-semibold text-[14px]\">Discounted Price:</h2>\r\n                                <h2 className={`text-[17]`}>Rs. {\r\n                                    (priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity, product?.WholesaleQty)).toFixed(2)\r\n                                }</h2>\r\n                            </div>\r\n                        )}\r\n\r\n                        <button className=\"bg-gray-500 hover:bg-gray-600 text-white py-2 mb-2 px-4 mt-4 rounded\"\r\n                                onClick={handleAddToCart}\r\n                        >\r\n                            Add to Cart\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            {/*<div className=\"flex items-center gap-2 mt-1\">*/}\r\n            {/*    <h2 className=\"font-semibold text-[14px]\">Per {product.Unit}:</h2>*/}\r\n            {/*    <h2 className=\"text-[16] text-gray-400\">Rs. {*/}\r\n            {/*        priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity) / quantity*/}\r\n            {/*    }</h2>*/}\r\n            {/*</div>*/}\r\n\r\n            {quantity >= 1 && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <h2 className=\"font-semibold text-[14px]\">Discounted Price:</h2>\r\n                <h2 className={`text-[17]`}>\r\n                  Rs.{\" \"}\r\n                  {priceCalculator(\r\n                    product?.RetailPrice,\r\n                    product?.WholesalePrice,\r\n                    quantity,\r\n                    product?.WholesaleQty\r\n                  ).toFixed(2)}\r\n                </h2>\r\n              </div>\r\n            )}\r\n\r\n            <button className=\"button-73\" onClick={handleAddToCart}>\r\n            <p className=\"text-[15px] \">Add to Cart</p>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuickView;\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/client/src/components/QuickView.jsx b/client/src/components/QuickView.jsx
--- a/client/src/components/QuickView.jsx	(revision f6858dee7f1d38f0f54b24cbebf204e708ed4716)
+++ b/client/src/components/QuickView.jsx	(date 1687984493788)
@@ -83,9 +83,10 @@
                     {/*<img*/}
                     {/*    src={`${process.env.REACT_APP_BASE_URL}/assets/${product?.Image}`}*/}
                     {/*    alt="product" className="w-44 h-44 mx-auto "/>*/}
+                    
                     <CorouselComponent slides={slides}/>
                     <div
-                           
+
                         className="flex flex-col justify-center w-full md:w-1/2 md:justify-start items-center md:items-start">
                         <h2 className="text-xl font-bold mb-4">{product?.Name}</h2>
                         <p className="text-gray-400">{product?.Description}</p>
@@ -118,12 +119,7 @@
                             </div>
                         </div>
 
-                        {/*<div className="flex items-center gap-2 mt-1">*/}
-                        {/*    <h2 className="font-semibold text-[14px]">Per {product.Unit}:</h2>*/}
-                        {/*    <h2 className="text-[16] text-gray-400">Rs. {*/}
-                        {/*        priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity) / quantity*/}
-                        {/*    }</h2>*/}
-                        {/*</div>*/}
+
 
                         {quantity >= 1 && (
                             <div className="flex items-center gap-2">
@@ -143,14 +139,6 @@
                 </div>
 
             </div>
-
-            {/*<div className="flex items-center gap-2 mt-1">*/}
-            {/*    <h2 className="font-semibold text-[14px]">Per {product.Unit}:</h2>*/}
-            {/*    <h2 className="text-[16] text-gray-400">Rs. {*/}
-            {/*        priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity) / quantity*/}
-            {/*    }</h2>*/}
-            {/*</div>*/}
-
             {quantity >= 1 && (
               <div className="flex items-center gap-2">
                 <h2 className="font-semibold text-[14px]">Discounted Price:</h2>
@@ -170,9 +158,9 @@
             <p className="text-[15px] ">Add to Cart</p>
             </button>
           </div>
-        </div>
-      </div>
-    </div>
+
+
+
   );
 };
 
