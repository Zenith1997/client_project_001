Index: client/src/components/QuickView.jsx
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, { useEffect, useRef, useState } from \"react\";\r\nimport { FaMinus, FaPlus, FaTimes } from \"react-icons/fa\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from \"../store/cartSlice\";\r\nimport { priceCalculator } from \"../utility\";\r\nimport toast from \"react-hot-toast\";\r\nimport CorouselComponent from \"./CarouselComponent\";\r\n\r\nconst QuickView = ({ onClose, selectedProduct }) => {\r\n  const [quantity, setQuantity] = useState(1);\r\n  const product = selectedProduct;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflow = \"hidden\";\r\n\r\n    return () => {\r\n      document.body.style.overflow = \"unset\";\r\n    };\r\n  }, []);\r\n\r\n  function handleDecrementQuantity() {\r\n    if (quantity > 1) {\r\n      setQuantity(quantity - 1);\r\n    }\r\n  }\r\n\r\n  function handleIncrementQuantity() {\r\n    if (quantity < product.MaxLimit || !product.MaxLimit) {\r\n      setQuantity(quantity + 1);\r\n    } else {\r\n      toast.error(`Maximum purchase quantity reached`);\r\n    }\r\n  }\r\n\r\n  function handleAddToCart() {\r\n    dispatch(addToCart({ product, quantity }));\r\n    onClose();\r\n  }\r\n\r\n    let menuRef = useRef();\r\n\r\n    useEffect(() => {\r\n        let handler = (e) => {\r\n            if (!menuRef.current.contains(e.target)) {\r\n                onClose();\r\n                console.log(menuRef.current);\r\n            }\r\n        };\r\n\r\n        document.addEventListener(\"mousedown\", handler);\r\n\r\n\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handler);\r\n        }\r\n\r\n    });\r\n\r\n    const { Image } = product;\r\n    let imageNames = [];\r\n\r\n    if (typeof Image === 'string') {\r\n        // Remove square brackets and double quotes from the string\r\n        const cleanedString = Image.replace(/[\\[\\]\"]/g, '');\r\n\r\n        // Split the cleaned string into an array of image names\r\n        imageNames = cleanedString.split(',');\r\n\r\n        // Trim whitespace from each image name\r\n        imageNames = imageNames.map((imageName) => ({ image: imageName.trim() }));\r\n    }\r\n\r\n    console.log(imageNames);\r\n    // const slides = [\r\n    //     {\r\n    //         title: 'Slide 1',\r\n    //         image: 'https://picsum.photos/200/300',\r\n    //     },\r\n    //     {\r\n    //         title: 'Slide 2',\r\n    //         image: 'https://picsum.photos/200/300',\r\n    //     },\r\n    //     {\r\n    //         title: 'Slide 3',\r\n    //         image: 'https://picsum.photos/200/300',\r\n    //     },\r\n    // ];\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 px-4 z-50\">\r\n            <div\r\n                ref={menuRef}\r\n                className=\"bg-gray-900 shadow-lg min-w-[300px] shadow-gray-800 rounded-lg text-white border border-gray-400 p-2 md:min-w-[600px] md:p-4 max-w-3xl\">\r\n                <div className=\"w-full\">\r\n                    <FaTimes className=\"float-right text-2xl cursor-pointer\" onClick={onClose}/>\r\n                </div>\r\n                <div className=\"w-full flex flex-col md:flex-row justify-between items-center\">\r\n                    {/*<img*/}\r\n                    {/*    src={`${process.env.REACT_APP_BASE_URL}/assets/${product?.Image}`}*/}\r\n                    {/*    alt=\"product\" className=\"w-44 h-44 mx-auto \"/>*/}\r\n                    <CorouselComponent slides={imageNames}/>\r\n                    <div\r\n                           \r\n                        className=\"flex flex-col justify-center w-full md:w-1/2 md:justify-start items-center md:items-start\">\r\n                        <h2 className=\"text-xl font-bold mb-4\">{product?.Name}</h2>\r\n                        <p className=\"text-gray-400\">{product?.Description}</p>\r\n                        <div className=\"flex flex-col items-center gap-1 md:flex-row md:gap-4 text-white mt-2\">\r\n                            <b className=\"text-gray-300\">Price: Rs. {\r\n                                (priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity, product?.WholesaleQty) / quantity).toFixed(2)\r\n                            }</b>\r\n                            {/*<b className=\"text-gray-300\">Unit Price: Rs. {product?.WholesalePrice}</b>*/}\r\n                        </div>\r\n                        <div className=\"flex items-center  mt-2\">\r\n                            <h2 className=\"font-semibold text-[15px]\">Quantity:</h2>\r\n\r\n                            <div className=\"flex items-center gap-3 ml-2\">\r\n                                <span\r\n                                    className=\"p-2 text-[10px] bg-gray-800 rounded-full cursor-pointer\"\r\n                                    onClick={handleDecrementQuantity}\r\n                                >\r\n                                    <FaMinus/>\r\n                                </span>\r\n                                <span className=\"text-lg\">\r\n                                    {quantity} {product.Unit}\r\n                                </span>\r\n                                <span\r\n                                    className=\"p-2 text-[10px] bg-gray-800 rounded-full cursor-pointer\"\r\n                                    onClick={handleIncrementQuantity}\r\n                                >\r\n                                    <FaPlus/>\r\n                                </span>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/*<div className=\"flex items-center gap-2 mt-1\">*/}\r\n                        {/*    <h2 className=\"font-semibold text-[14px]\">Per {product.Unit}:</h2>*/}\r\n                        {/*    <h2 className=\"text-[16] text-gray-400\">Rs. {*/}\r\n                        {/*        priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity) / quantity*/}\r\n                        {/*    }</h2>*/}\r\n                        {/*</div>*/}\r\n\r\n                        {quantity >= 1 && (\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <h2 className=\"font-semibold text-[14px]\">Discounted Price:</h2>\r\n                                <h2 className={`text-[17]`}>Rs. {\r\n                                    (priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity, product?.WholesaleQty)).toFixed(2)\r\n                                }</h2>\r\n                            </div>\r\n                        )}\r\n\r\n                        <button className=\"bg-gray-500 hover:bg-gray-600 text-white py-2 mb-2 px-4 mt-4 rounded\"\r\n                                onClick={handleAddToCart}\r\n                        >\r\n                            Add to Cart\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            {/*<div className=\"flex items-center gap-2 mt-1\">*/}\r\n            {/*    <h2 className=\"font-semibold text-[14px]\">Per {product.Unit}:</h2>*/}\r\n            {/*    <h2 className=\"text-[16] text-gray-400\">Rs. {*/}\r\n            {/*        priceCalculator(product?.RetailPrice, product?.WholesalePrice, quantity) / quantity*/}\r\n            {/*    }</h2>*/}\r\n            {/*</div>*/}\r\n\r\n            {quantity >= 1 && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <h2 className=\"font-semibold text-[14px]\">Discounted Price:</h2>\r\n                <h2 className={`text-[17]`}>\r\n                  Rs.{\" \"}\r\n                  {priceCalculator(\r\n                    product?.RetailPrice,\r\n                    product?.WholesalePrice,\r\n                    quantity,\r\n                    product?.WholesaleQty\r\n                  ).toFixed(2)}\r\n                </h2>\r\n              </div>\r\n            )}\r\n\r\n            <button className=\"button-73\" onClick={handleAddToCart}>\r\n            <p className=\"text-[15px] \">Add to Cart</p>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuickView;\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/client/src/components/QuickView.jsx b/client/src/components/QuickView.jsx
--- a/client/src/components/QuickView.jsx	(revision ea82f7a9428a566d0b8a81aacb75391bab3b7afd)
+++ b/client/src/components/QuickView.jsx	(date 1687989257755)
@@ -186,9 +186,9 @@
             <p className="text-[15px] ">Add to Cart</p>
             </button>
           </div>
-        </div>
-      </div>
-    </div>
+
+
+
   );
 };
 
